import{j as e}from"./radix-pxeQr2vL.js";import{b as s,L as x}from"./react-9ItUixmA.js";import{s as h}from"./index-DDd0kLwX.js";import"./supabase-D999gSRu.js";import"./shadcn_misc-DPVfRoQl.js";const f=()=>{const[r,u]=s.useState(""),[c,l]=s.useState(!1),[i,n]=s.useState(null),[o,d]=s.useState(null),p=async t=>{t.preventDefault(),n(null),d(null),l(!0);try{const a=`${window.location.origin}/reset-password`,{error:m}=await h.auth.resetPasswordForEmail(r,{redirectTo:a});if(m)throw m;n("Hemos enviado un enlace de recuperación a tu correo."),window.toast?.success("Enlace de recuperación enviado",{action:"update"})}catch(a){d(a?.message||"No se pudo enviar el correo de recuperación"),window.toast?.error(a?.message||"No se pudo enviar el correo de recuperación",{action:"update"})}finally{l(!1)}};return e.jsx("div",{className:"min-h-[calc(100vh-120px)] grid place-items-center",children:e.jsx("div",{className:"container-sm",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-2 font-display",children:"Recuperar contraseña"}),e.jsx("p",{className:"opacity-80",children:"Ingresa tu email y te enviaremos un enlace para restablecer tu contraseña."})]})})}),e.jsx("div",{className:"card card-hover",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recuperar contraseña"}),o&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 text-red-700 px-3 py-2 text-sm",children:o}),i&&e.jsx("div",{className:"mb-4 rounded-lg bg-green-50 text-green-700 px-3 py-2 text-sm",children:i}),e.jsxs("form",{className:"space-y-4",onSubmit:p,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",htmlFor:"email",children:"Email"}),e.jsx("input",{id:"email",className:"input_field w-full",value:r,onChange:t=>u(t.target.value),placeholder:"tu@email.com"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:c||!r,children:c?"Enviando…":"Enviar enlace"}),e.jsx("div",{className:"text-sm text-center",children:e.jsx(x,{to:"/login",className:"text-(--color-terracotta-suave) hover:underline",children:"Volver a iniciar sesión"})})]})]})})]})})})};export{f as default};
